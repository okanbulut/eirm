---
title: "Explanatory IRT for Dichotomous Data"
author: "Okan Bulut"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
description: >
  How does eirm can be used for estimating dichotomous and polytomous 
  explanatory IRT models in R?
vignette: >
  %\VignetteIndexEntry{Explanatory IRT for Dichotomous Data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
  \usepackage[utf8]{inputenc}
---

```{r setup, echo = TRUE, eval = TRUE, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, message = FALSE, warning = FALSE)
options(width = 800)
```

```{r, echo=FALSE}
library("eirm")
```

The following example shows how to use item-related and person-related explanatory variables to explain dichotomous responses in the verbal aggression data set. 

```{r, echo = TRUE, eval = TRUE}
data("VerbAgg")

mod2a <- eirm(formula = "r2 ~ -1 + situ + btype + mode + (1|id)", data = VerbAgg)

print(mod2a)
```

It is possible to visualize the parameters using an item-person map using `plot(mod2a)`, which returns the following plot. Note that this plot is a modified version of the `plotPImap` function from the `eRm` package). 

```{r, echo = TRUE, eval = FALSE}
plot(mod2a)
```

Aesthetic elements such as axis labels and plot title can be added to the plot. For example, the following code updates the x-axis label and the main plot title (see `?plot.eirm` for further details).

```{r, echo = TRUE, eval = FALSE}
plot(mod2a, difficulty = TRUE, main = "Verbal Aggression Example", latdim = "Verbal Aggression")
```

This plot wpuld show the difficulty parameters (instead of easiness), change the main title above the plot, and change the x-axis -- the name for the latent trait being measured. 

Also, it is possible to compare nested explanatory models with each other. The following example shows the estimation of a more compact version of `mod2a` with one less variable and compares the two models (i.e., `mod2a` vs. `mod2b`).

```{r, echo = TRUE, eval = FALSE}
mod2b <- eirm(formula = "r2 ~ -1 + situ + btype + (1|id)", data = VerbAgg)

anova(mod2a$model, mod2b$model)
```
